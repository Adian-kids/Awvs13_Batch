# Awvs13_Batch
Awvs13批量扫描脚本（对低配置机器进行优化，避免跑死）

E-mail:admin@e-wolf.top

Blog:http://www.e-wolf.top

# 前言

由于我个人是一名贫穷的学生机用户，学生机用来搞事情实在是有些吃力，但是闲置的资源总让我感到心痛，所以我决定用来挂AWVS这个漏扫环境

开始的时候用过Github上许多的AWVS13批量扫描脚本，但是我感觉总是差强人意，学生机的配置实在是不够高，哪怕是在批量导入Target的时候都有可能发包过快导致服务器短暂的宕机，更别提在扫描完全开启的时候，服务器必然宕机，我的Blog都无法访问，所以我花了一个晚上开发了这个小工具，希望可以帮到很多和我一样贫穷的孩子

# 工具简介

本工具和其他工具的不同点在于，其他脚本的流程基本是

将所有的目标导入==》将所有的目标开始扫描==》等待AWVS自己解决

而由于上述提到的低配置机器会出现宕机的现象，所以在处理上完全在工具内部解决

判断当前扫描个数==》添加任务至设定的数量==》某个目标扫描结束==》添加目标并进行扫描



本工具具有以下功能

- 美观的界面（其实不美观）
- 控制同时最多数量个扫描同时进行
- 更强的容错机制

## 美观的界面

由于本人实在是审美有些跟不上，简单的搞一下吧

![1](/pic/1.png)

## 控制同时最多数量个扫描同时进行

在脚本的`init`中`self.max_task`为同时并发的任务数量，推荐学生机调成1，因为配置实在是太低了

简单写一下需要更改的配置，考虑到很多人像我一样是要nohup来跑，所以取消了input的区域

```
self.file_name = "target.txt"  # 文件名
self.api_host = "https://127.0.0.1:13443/"  # API地址
self.api_key = "asdsadsadsadsadsadsadwf321edsa32ed42dasd"  #API key
self.scan_mode = "11111111-1111-1111-1111-111111111112"  # 扫描模式
self.scan_speed = "sequential"  # 扫描速度
self.max_task = 5  # 最大同步任务,低配置建议为1
```

scan_mode列表：

| 类型                                 | 值                                   |              |
| :----------------------------------- | :----------------------------------- | :----------- |
| Full Scan                            | 11111111-1111-1111-1111-111111111111 | 全部扫描     |
| High Risk Vulnerabilities            | 11111111-1111-1111-1111-111111111112 | 高风险漏洞   |
| Cross-site Scripting Vulnerabilities | 11111111-1111-1111-1111-111111111116 | XSS漏洞      |
| SQL Injection Vulnerabilities        | 11111111-1111-1111-1111-111111111113 | SQL注入漏洞  |
| Weak Passwords                       | 11111111-1111-1111-1111-111111111115 | 弱口令       |
| Crawl Only                           | 11111111-1111-1111-1111-111111111117 | 仅爬行       |
| Malware Scan                         | 11111111-1111-1111-1111-111111111120 | 恶意软件扫描 |

scan_speed列表：

- sequential 
- slow 
- moderate 
- fast

从上到下为由慢到快



# 最后

有BUG请提交issue或者联系我！

谢谢大家